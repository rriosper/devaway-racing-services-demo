(this["webpackJsonpdevaway-racing-services"]=this["webpackJsonpdevaway-racing-services"]||[]).push([[0],{54:function(n,e,r){"use strict";r.r(e);var t=r(3),i=r(0),a=r.n(i),c=r(29),o=r.n(c),s=r(19),u=r(7),d=r(6),l=r(2);function p(){var n=Object(u.a)(["\n        width: xl;\n        height: xl;\n      "]);return p=function(){return n},n}function f(){var n=Object(u.a)(["\n        width: lg;\n        height: lg;\n      "]);return f=function(){return n},n}function b(){var n=Object(u.a)(["\n        width: md;\n        height: md;\n      "]);return b=function(){return n},n}function j(){var n=Object(u.a)(["\n  border-radius: 50%;\n  background-color: foregroundBorder;\n  ","\n"]);return j=function(){return n},n}var x=d.d.img(j(),Object(l.G)({prop:"size",default:"md",variants:{sm:Object(d.c)(b()),md:Object(d.c)(f()),lg:Object(d.c)(p())}}));function h(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n\n  > div {\n    font-weight: bold;\n    color: foreground;\n    text-trasnform: lowercase;\n    margin-bottom: xs;\n\n    :first-letter {\n      text-transform: uppercase;\n    }\n  }\n"]);return h=function(){return n},n}function m(){var n=Object(u.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: md;\n  grid-column-gap: sm;\n"]);return m=function(){return n},n}function g(){var n=Object(u.a)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  background-color: card;\n  box-shadow: card;\n  display: grid;\n"]);return g=function(){return n},n}var O=d.d.div(g(),l.D,l.y,l.u,l.v,l.t,l.w,l.a);O.defaultProps={padding:"md"};var v=d.d.div(m()),w=d.d.div(h()),y=function(n){var e=n.fields,r=Object(i.useMemo)((function(){return e.map((function(n){var e=n.label,r=n.value;return Object(t.jsxs)(w,{children:[Object(t.jsx)("div",{children:e}),Object(t.jsx)("span",{children:r})]},e)}))}),[e]);return Object(t.jsx)(v,{children:r})};function k(){var n=Object(u.a)(["\n      padding-left: 0;\n      padding-right: 0;\n      max-width: 1180px;\n      margin: 0 auto;\n    "]);return k=function(){return n},n}function z(){var n=Object(u.a)(["\n  padding-left: lg;\n  padding-right: lg;\n  padding-bottom: md;\n  width: 100%;\n  height: 100%;\n\n  ","\n"]);return z=function(){return n},n}var R=d.d.div(z(),Object(l.F)("lg",Object(d.c)(k()))),D=function(n){var e=n.title,r=n.subTitle,i=n.children;return Object(t.jsxs)(R,{children:[e,r,i]})},J=r(9);function A(){var n=Object(u.a)(["\n  width: md;\n  height: md;\n  border: thick;\n  border-color: primary;\n  border-top-color: bg;\n  border-radius: 100%;\n  animation: ",";\n  animation-duration: 1.3s;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return n},n}function C(){var n=Object(u.a)(["\n  from {\n    transform: rotateZ(0deg);\n  }\n\n  to {\n    transform: rotateZ(360deg);\n  }\n"]);return C=function(){return n},n}var q=Object(J.keyframes)(C()),F=d.d.div(A(),q,l.x,l.y,l.z,l.A,l.B,l.C),B=r(20),T=r(27);function I(){var n=Object(u.a)(["\n      width: 150px;\n      height: 150px;\n    "]);return I=function(){return n},n}function S(){var n=Object(u.a)(["\n  width: 80px;\n  height: 80px;\n\n  ","\n"]);return S=function(){return n},n}function M(){var n=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: splash;\n  width: 100%;\n  height: 100%;\n  background: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return M=function(){return n},n}var P=Object(d.d)(T.a.div)(M()),G=Object(d.d)(T.a.img)(S(),Object(l.F)("sm",Object(d.c)(I()))),W=function(){var n=Object(i.useState)(!0),e=Object(B.a)(n,2),r=e[0],a=e[1];return r?Object(t.jsx)(P,{animate:{opacity:[1,1,1,0]},transition:{duration:1.4,ease:"easeOut"},onAnimationComplete:function(){return a(!1)},children:Object(t.jsx)(G,{alt:"DevAway logo",src:"/images/devAway.jpeg",animate:{opacity:[0,1,1],boxShadow:["0 0 20px rgba(0,0,0,0.5)","0 0 20px rgba(0,0,0,0)"],transform:["scale(1.1)","scale(1)"]},transition:{duration:.4,ease:"easeIn"}})}):null},_=r(8),E=function(){return Object(t.jsx)("div",{children:"Not found"})},K=r(35),L=r(36),N=r(10),Z=r.n(N);function V(){var n=Object(u.a)(["\n  width: 100%;\n  padding: md;\n  text-transform: uppercase;\n  cursor: pointer;\n  outline: none;\n  border: none;\n  border-top: thin;\n  border-color: foregroundBorder;\n  transition: fast;\n  font-weight: bold;\n\n  :hover {\n    background-color: primary;\n    color: white;\n  }\n"]);return V=function(){return n},n}function H(){var n=Object(u.a)(["\n      grid-template-columns: repeat(2, 1fr);\n    "]);return H=function(){return n},n}function Q(){var n=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: md;\n  grid-gap: md;\n  position: relative;\n\n  ",'\n\n  > div:first-child {\n    position: relative;\n    ::before {\n      content: "#1";\n      text-shadow: 0px 1px 2px #333;\n      font-size: 5;\n      color: gold;\n      position: absolute;\n      top: -14px;\n      left: -14px;\n    }\n  }\n\n  > div:nth-child(2) {\n    position: relative;\n    ::before {\n      content: "#2";\n      text-shadow: 0px 1px 2px #333;\n      font-size: 5;\n      color: silver;\n      position: absolute;\n      top: -14px;\n      left: -14px;\n    }\n  }\n\n  > div:nth-child(3) {\n    position: relative;\n    ::before {\n      content: "#3";\n      text-shadow: 0px 1px 2px #333;\n      font-size: 5;\n      color: bronze;\n      position: absolute;\n      top: -14px;\n      left: -14px;\n    }\n  }\n']);return Q=function(){return n},n}function U(){var n=Object(u.a)(["\n  font-size: 3;\n"]);return U=function(){return n},n}function X(){var n=Object(u.a)(["\n  > h1 {\n    color: primary;\n  }\n"]);return X=function(){return n},n}var Y=d.d.div(X()),$=d.d.p(U()),nn=d.d.div(Q(),Object(l.F)("lg",Object(d.c)(H()))),en=d.d.button(V()),rn=(Z.a.string.isRequired,Z.a.number.isRequired,Z.a.string.isRequired,Z.a.string.isRequired,Z.a.arrayOf(Z.a.shape({name:Z.a.string.isRequired,time:Z.a.string.isRequired}).isRequired).isRequired,function(n){var e=n.picture,r=n.age,a=n.name,c=n.team,o=n.races,s=n.content,u=Object(i.useMemo)((function(){return function(n){return n.reduce((function(n,e){return n.length>0&&n<=e.time?n:e.time}),"")}(o)}),[o]);return Object(t.jsxs)(O,{gridTemplateRows:"1fr auto",padding:"none",children:[Object(t.jsxs)(d.a,{display:"grid",gridTemplateColumns:"auto 1fr",gridGap:"md",padding:"md",alignItems:"center",children:[Object(t.jsx)(x,{alt:"Profile picture ".concat(a),src:e}),Object(t.jsx)(y,{fields:[{label:"name",value:a},{label:"age",value:r},{label:"team",value:c},{label:"Best time",value:u}]})]}),s]})}),tn=function(n){var e=n.racers,r=n.isLoading,a=Object(_.f)(),c=Object(i.useMemo)((function(){return e.map((function(n){var e=n._id,r=Object(L.a)(n,["_id"]);return Object(t.jsx)(rn,Object(K.a)({content:Object(t.jsx)(en,{onClick:function(){return a.push("/racer/".concat(e))},children:"View Racer"})},r),e)}))}),[e,a]);return Object(t.jsxs)(d.a,{display:"grid",gridGap:"md",children:[Object(t.jsx)("h3",{children:"Racers"}),r&&Object(t.jsx)(F,{margin:"md",justifySelf:"center"}),Object(t.jsx)(nn,{children:c})]})},an=function(){return Object(t.jsx)(D,{title:Object(t.jsx)(Y,{children:Object(t.jsx)("h1",{children:"DevAway"})}),subTitle:Object(t.jsx)($,{children:"World Kart Championship"}),children:Object(t.jsx)(rn,{name:"Nombre",age:23,races:[],picture:"/aa",team:"aa"})})},cn=r(57),on=r(58),sn=r(16),un=r.n(sn),dn=r(18),ln=r(15),pn=ln.JsonDecoder.object({name:ln.JsonDecoder.string,time:ln.JsonDecoder.string},"Race"),fn=ln.JsonDecoder.object({_id:ln.JsonDecoder.string,picture:ln.JsonDecoder.string,age:ln.JsonDecoder.number,name:ln.JsonDecoder.string,team:ln.JsonDecoder.string,races:ln.JsonDecoder.array(pn,"Race")},"Racer"),bn=ln.JsonDecoder.array(fn,"Racer"),jn=function(n){return new Promise((function(e){setTimeout((function(){return e()}),1e3*n)}))},xn=function(){var n=Object(dn.a)(un.a.mark((function n(e,r,t){var i,a,c;return un.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,jn(3);case 3:return n.next=5,fetch("".concat(e,"/").concat(r));case 5:return i=n.sent,n.next=8,i.json();case 8:if(a=n.sent,!(c=t.decode(a)).isOk()){n.next=12;break}return n.abrupt("return",c.value);case 12:throw{type:"decode",reason:c.error};case 15:throw n.prev=15,n.t0=n.catch(0),{type:"api",reason:""};case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,r,t){return n.apply(this,arguments)}}(),hn=function(){var n=Object(dn.a)(un.a.mark((function n(e){return un.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",xn("/sources","racer.json",e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),mn={local:{racer:{getAll:function(){var n=Object(dn.a)(un.a.mark((function n(){return un.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",hn(bn));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),getById:function(){var n=Object(dn.a)(un.a.mark((function n(){return un.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",hn(fn));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}}},gn={data:{racers:[]},loading:{racers:!0},error:{racers:null}},On=function(){var n=Object(on.a)("rankings",gn),e=Object(B.a)(n,2),r=e[0],t=e[1],a=Object(i.useCallback)((function(n){return t((function(e){return Object(cn.a)(n,e)}))}),[t]);return Object(i.useEffect)((function(){a({loading:gn.loading,error:gn.error}),mn.local.racer.getAll().then((function(n){return a({data:{racers:n},loading:{racers:!1}})})).catch((function(n){return a({error:{racers:n.reason},loading:{racers:!1}})}))}),[a]),r},vn=function(){var n=On(),e=n.data.racers,r=n.loading;return Object(t.jsx)(D,{title:Object(t.jsx)(Y,{children:Object(t.jsx)("h1",{children:"DevAway"})}),subTitle:Object(t.jsx)($,{children:"World Kart Championship"}),children:Object(t.jsx)(tn,{isLoading:r.racers&&0===e.length,racers:e})})},wn=function(){return Object(t.jsxs)(_.c,{children:[Object(t.jsx)(_.a,{exact:!0,path:"/",component:vn}),Object(t.jsx)(_.a,{exact:!0,path:"/racer/:id",component:an}),Object(t.jsx)(_.a,{path:"/",component:E})]})},yn=r(34);function kn(){var n=Object(u.a)(["\n    ","\n\n    * {\n        box-sizing: border-box;\n        font-family: 'Roboto', sans-serif;\n        user-select: none;\n    }\n\n    html, body, div#root{\n        min-width: 100%;\n        min-height: 100%;\n        color: text;\n        background-color: bg;\n    }\n    \n    h1 {\n        font-size: 2.5rem;\n    }\n\n    h2 {\n        font-size: 1.8rem;\n    }\n\n    h3 {\n        font-size: 1.4rem;\n    }\n\n    p, a, span, div {\n        font-size: 1rem;\n    }\n"]);return kn=function(){return n},n}var zn=Object(d.b)(kn(),yn.normalize),Rn={borders:{thin:"1px solid",solid:"2px solid",thick:"3px solid",xthick:"5px solid"},breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200},colors:{text:"#000",bg:"#FFF",card:"#f2f2f2",primary:"#ef482d",foreground:"#909090",foregroundBorder:"#d2d2d2",gold:"#FAFAD2",silver:"#C0C0C0",bronze:"#cc6633"},fontSizes:{0:"1rem",1:"1.2rem",2:"1.3rem",3:"1.3rem",4:"1.5rem",5:"1.8rem"},fontWeights:{thin:"100",regular:"300",bold:"500"},shadows:{card:"0px 1px 2px #333333a3;",smooth:"0px 0px 0px 4px rgba(0,0,0,0.3)"},sizes:{xxs:"4px",xs:"8px",sm:"16px",md:"32px",lg:"64px",xl:"128px",xxl:"256px"},space:{none:"0",xxs:"1px",xs:"4px",sm:"8px",md:"16px",lg:"32px",xl:"64px",xxl:"128px"},transitions:{fast:"all 0.25s",regular:"all 0.5s",slow:"all 1s"},zIndices:{splash:100}},Dn=(Z.a.node.isRequired,function(n){var e=n.children;return Object(t.jsxs)(J.ThemeProvider,{theme:Rn,children:[Object(t.jsx)(zn,{}),e]})}),Jn=function(){return Object(t.jsxs)(Dn,{children:[Object(t.jsx)(W,{}),Object(t.jsx)(s.a,{children:Object(t.jsx)(wn,{})})]})};o.a.render(Object(t.jsx)(a.a.StrictMode,{children:Object(t.jsx)(Jn,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.8b3d889c.chunk.js.map